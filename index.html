<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>和英正順アプリ (Touch & Drop版)</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
<header>
  <h1>和英正順アプリ</h1>
  <div class="sub">タッチ＆ドロップで挿入・入れ替え可（他の仕様は維持）</div>
  <div id="progress"></div>
</header>

<main>
  <section class="panel info">
    <div class="row">
      <div class="cell">
        <div class="label">日本語</div>
        <div id="jp" class="jp"></div>
      </div>
      <div class="cell">
        <div class="label">英語（正解）</div>
        <div id="answer" class="answer hidden"></div>
      </div>
    </div>
  </section>

  <section class="panel builder" id="builderPanel">
    <div class="label">組み立て中の英文</div>
    <div id="builder" class="builder-area" aria-label="builder"></div>
  </section>

  <section class="panel bank">
    <div class="label">単語バンク（タッチ＆ドロップで追加／戻す）</div>
    <div id="bank" class="bank-area" aria-label="bank"></div>
  </section>

  <section class="panel controls">
    <button id="btnCheck" class="primary">採点</button>
    <button id="btnHint">ヒント</button>
    <button id="btnReveal">答えを表示</button>
    <button id="btnClear">クリア</button>
    <button id="btnUndo">一手戻す</button>
  </section>

  <section class="panel nav">
    <button id="btnPrev">〈 前へ</button>
    <button id="btnNext">次へ 〉</button>
  </section>

  <section class="panel status">
    <div id="feedback"></div>
  </section>

  <section class="panel import">
    <details>
      <summary>データセットの読み込み / 置き換え</summary>
      <p>JSON または CSV（ヘッダー: <code>jp</code>, <code>en</code>, 任意で <code>hint</code>, <code>explain</code>）を読み込めます。</p>
      <input type="file" id="fileInput" accept=".json,.csv" />
      <button id="btnExport">学習履歴をエクスポート</button>
      <button id="btnResetHistory">学習履歴リセット</button>
    </details>
  </section>
</main>

<footer>
  <button id="btnHistory">履歴を見る</button>
</footer>

<div id="historyModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="historyTitle">
  <div class="modal-content">
    <div class="modal-header">
      <h2 id="historyTitle">学習履歴</h2>
      <button id="closeHistory" class="icon-btn" aria-label="閉じる">×</button>
    </div>
    <div class="modal-body">
      <input id="historySearch" placeholder="検索（日本語/英語）" />
      <div id="historyList" class="history-list"></div>
    </div>
  </div>
</div>

<script src="app.js"></script>
</body>
</html>
